<apex:page standardController="Class__c" sidebar="false" showHeader="false" id="Page">
    <script src="/soap/ajax/20.0/connection.js" type="text/javascript">
    </script>
    <script>
      
   	function saveStudent() {
        sforce.connection.sessionId = "{!$Api.Session_ID}";
        //Creating New Account Record.
        var student = new sforce.SObject("student__c");
        //Getting Account Name from inputText
        var name = document.getElementById('{!$Component.FM.PB.PBS.PBSI.Name}').value;
        alert(name);
        if(name==null || name.trim()=='') {
            alert('please enter name');
            return false;
        }
        student.Name = name;
        student.Class__c ='{!Class__c}';
        var result = sforce.connection.create([student]);
        if (result[0].getBoolean("success")) {
            alert("New student is created with id " + result[0].id);
            	window.opener.location.href="/{! Class__c.ID}";      
       			window.close();
    		}
         else {
            alert("failed to create new student " + result[0]);
        }     
    }
    </script>
    <apex:form id="FM">
        <apex:pageBlock id="PB">
            <apex:pageBlockSection id="PBS">
                <apex:pageBlockSectionItem id="PBSI">
                     <apex:outputLabel >Student Name</apex:outputLabel>
                    <apex:inputText title="StudentName"  id="Name"  ></apex:inputText>
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            <apex:pageBlockButtons >
                <apex:commandButton onclick="return saveStudent()" value="Add Student" />
            </apex:pageBlockButtons>
        </apex:pageBlock>
    </apex:form>
</apex:page>